<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Tidying databases • Momit</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Tidying databases">
<meta property="og:description" content="Momit">
<meta property="og:image" content="http://momx.github.io/Momit/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">Momit</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/i_intro.html">An introduction to Momit</a>
    </li>
    <li>
      <a href="../articles/ii_mom_mom.html">.mom files, \&lt;mom\&gt; tibbles</a>
    </li>
    <li>
      <a href="../articles/iii_foreign.html">Importing foreign formats</a>
    </li>
    <li>
      <a href="../articles/iv_database.html">Tidying databases</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/MomX/Momit">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Tidying databases</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/MomX/Momit/blob/master/vignettes/iv_database.Rmd"><code>vignettes/iv_database.Rmd</code></a></small>
      <div class="hidden name"><code>iv_database.Rmd</code></div>

    </div>

    
    
<p>I hereby summarise collection of tips, learnt (the hard way) by my colleagues<a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a> and (marginally) by myself. Contributions are welcome!</p>
<p>I will take the example of an image database but if what you collect is something else, say a text file, same tips apply. This begins with a curated list of good practices, then dig into lower level aspects.</p>
<div id="good-practices" class="section level2">
<h2 class="hasAnchor">
<a href="#good-practices" class="anchor"></a>Good practices</h2>
<p>(todo)</p>
<div id="raw-data" class="section level3">
<h3 class="hasAnchor">
<a href="#raw-data" class="anchor"></a>Raw data</h3>
<ul>
<li>All pictures should be in the same folder</li>
<li>Keep your raw data</li>
<li>Do not crop, resize, etc.</li>
<li>Repeat (at least some) pictures to measure error</li>
<li>Post-processing should be reproducible. If manual (thus error-prone) operations are needed (like artistic reconstruction of missing part), each error should be properly measured</li>
</ul>
</div>
<div id="working-data" class="section level3">
<h3 class="hasAnchor">
<a href="#working-data" class="anchor"></a>Working data</h3>
<ul>
<li>All pictures and associated data should be in the same folder</li>
<li>Your analysis pipeline should be exhaustivelly reproducible</li>
</ul>
<hr>
<p>rough copy paste:</p>
<p>Spreadsheet are very popular to store and organize data collection and associated covariates.</p>
<p>Forget artistic touch on your .xlsx, .odt, .wtf files. No hierarchical header, no missing column name, no white lines here and there. Anything else than text to <em>encode</em> information like cell background color, bold, etc. are crazy ideas. Never do that. Use syntactic, meaningful and well thought colnames. Overall, keep things simple:</p>
<p>lowercase are fine. Tend to only use lowercase now for code. Saving dozens of maj key press, and muting one fountain of typos are quite convincing experiments to try at home. It’s a matter of taste.</p>
<p>id date location lat lon species cultivar tree branch position</p>
<p>Lacamp_AcMtp_001 Lacamp_AcMtp_001</p>
<p>Home_AcMtp_001 Pump_ Oiselette site_species_n :</p>
<p>#template_acq site Home / Castle / Forest1 / Forest2 # pick one collector c(“sl”, “vb”) tree 001 opening 1:5 height c(min=0, max=5, na=“none”) i numeric comment NA_character</p>
</div>
</div>
<div id="for-file-names-aims-for-the-minimal-scheme-ie-things-that-cannot-be-deduced-by-any-other-mean-than-by-manual-typingpicking" class="section level1">
<h1 class="hasAnchor">
<a href="#for-file-names-aims-for-the-minimal-scheme-ie-things-that-cannot-be-deduced-by-any-other-mean-than-by-manual-typingpicking" class="anchor"></a>for file names : aims for the minimal scheme ie things that cannot be deduced by any other mean than by manual typing/picking</h1>
<p>eg: Home_mons_vb_1 Home_mons_vb_2 Home_mons_vl_3</p>
<p>momacs propose template photo -&gt; name immediately when possible decharge -&gt; validate</p>
<p>species c(“mons” / “camp” / na=“explicit”) # or ok,</p>
<p>Site_Species_open</p>
<p>template status: allowed(“status”, “domesticated”) cépage: meet(is_character, matches(regex)) id: domain()</p>
<p>complete ID (4) NA: allowed/none etc.</p>
<p>end tough copy paste</p>
<hr>
<div id="choosing-an-id" class="section level2">
<h2 class="hasAnchor">
<a href="#choosing-an-id" class="anchor"></a>Choosing an <code>id</code>
</h2>
<div id="setting-the-problem" class="section level3">
<h3 class="hasAnchor">
<a href="#setting-the-problem" class="anchor"></a>Setting the problem</h3>
<p>Before starting a single study or the world largest database, your will need to think of how to:</p>
<ol style="list-style-type: decimal">
<li>name individual images</li>
<li>store additional informations</li>
<li>join the two</li>
</ol>
<p>The three tasks actually reduce to a single one: finding what will be your id and how to structure it<a href="#fn2" class="footnote-ref" id="fnref2"><sup>2</sup></a>.</p>
</div>
<div id="choosing-an-id-pattern" class="section level3">
<h3 class="hasAnchor">
<a href="#choosing-an-id-pattern" class="anchor"></a>Choosing an id pattern</h3>
<p>There is no definitive rule for what the right id pattern but is likely between these two extremes:</p>
<ol style="list-style-type: decimal">
<li>Using a single number (eg <code>00001</code>)</li>
<li>Encode everything in filenames (eg <code>chivas_whisky_0.75l</code>)</li>
</ol>
<p>The first case would be the <a href="https://en.wikipedia.org/wiki/Primary_key">canonic view</a> of what an id is, but not user-friendly at all.</p>
<p>The second case does not solve the problem, it avoids it. It first sounds like a good idea until you want to add stuff and reveal the foolishness of this idea<a href="#fn3" class="footnote-ref" id="fnref3"><sup>3</sup></a>.</p>
<p>I think the good compromise is to reflect the granulometry of measurements.</p>
<p>For instance:</p>
<blockquote>
<p><code>chivas_75.jpg</code></p>
</blockquote>
<p>is a better choice.</p>
<p>Indeed, <code>whisky</code> can be deduced from chivas, and filename is not a place to decimals or units. More importantly, if you access additional information it is, by far, preferable to include them in an external file (eg a spreadsheet) than in the filenames.</p>
</div>
<div id="a-more-realistic-case" class="section level3">
<h3 class="hasAnchor">
<a href="#a-more-realistic-case" class="anchor"></a>A more realistic case</h3>
<p>So far, this example was so trivial that all of this appear pointless. But wait a bit: you got a mountain of dollars to make a longitudinal analysis of alcoholic bottles shapes throught both time and space, ie collect pictures of the different contenance, country and years. Your id could be:</p>
<p><code>chivas_75_mex_1984</code></p>
<p>When taking pictures in alcoolism museums or scrapping webpages, it is acceptable to manually type this <em>and</em> when working with files you do not have to find this bloody 6-digits number in the spreadsheet, you just have to read your its name.</p>
<p>Now you hire three post-docs to add covariates such as price, glass colour, tasting note, etc. should code in another file, the natural choice being a spreadsheet formatted this way:</p>
<table class="table">
<thead><tr class="header">
<th>id</th>
<th>name</th>
<th>volume</th>
<th>country</th>
<th>year</th>
<th>price</th>
<th>glass_colour</th>
<th>note</th>
</tr></thead>
<tbody><tr class="odd">
<td>chivas_75_mexico_1984</td>
<td>Chivas</td>
<td>0.75</td>
<td>MEX</td>
<td>1984</td>
<td>3.14</td>
<td>brown</td>
<td>4.2</td>
</tr></tbody>
</table>
<p>You add much value to your database, but you did not touch in single bit in your folder image.</p>
</div>
<div id="an-id-does-not-have-to-be-unique" class="section level3">
<h3 class="hasAnchor">
<a href="#an-id-does-not-have-to-be-unique" class="anchor"></a>An id does <em>not</em> have to be unique</h3>
<p>For morphometrics collection, whether small and simple or gigantic and complex, I do not think an id as to be unique. For instance, the same id often refers to:</p>
<ul>
<li>several images (eg two orthogonal views)</li>
<li>data of different type (eg images and txt file for landmarks)</li>
<li>repeated measurements of the same object (eg when measuring user error)</li>
<li>different sub objects (eg pips of the same grape cultivar for which we have additional information)</li>
</ul>
<p>Even in the short-term, it’s certainly worse to repeat lines in your spreadsheet, than to create a column in your tibble! (todo link to dedicated vignette)</p>
<p>So, again, I think the id pattern choice should reflect the level where measurements where taken.</p>
<p>That being said, you are a grown up adult, so choose whatever you want and fits your present (and possibly future) needs. Just think twice about it, it could save severe headaches later (and possibly sooner as imagined).</p>
</div>
<div id="join-the-two" class="section level3">
<h3 class="hasAnchor">
<a href="#join-the-two" class="anchor"></a>Join the two</h3>
<p>As I told you before, this is the easy part, since you are not the first (neither the last) person who wants to join two tables. Have a look to <code><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html">?dplyr::join</a></code>.</p>
<p>Let’s exemplify this. I will first build two dummy objects, in the MomX way.</p>
<div class="sourceCode" id="cb1"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">Momit</span>)
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">Momocs2</span>)
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">dplyr</span>)

<span class="no">data_raw</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/reexports.html">tibble</a></span>(<span class="kw">id</span>   <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"chivas_75_mex_1984"</span>, <span class="st">"guiness_50_irl_1988"</span>),    <span class="co"># two individuals</span>
                   <span class="kw">coo</span>  <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/pkg/Momocs2/man/coo_list.html">coo_list</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="fu"><a href="https://rdrr.io/pkg/Momocs2/man/coo_single.html">coo_single</a></span>(), <span class="fu"><a href="https://rdrr.io/pkg/Momocs2/man/coo_single.html">coo_single</a></span>())))        <span class="co"># two empty coo_single, but that's not our point here</span>

<span class="no">data_cov</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/reexports.html">tibble</a></span>(<span class="kw">id</span>    <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"guiness_50_irl_1988"</span>, <span class="st">"chivas_75_mex_1984"</span>),
                   <span class="kw">type</span>  <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"beer"</span>, <span class="st">"whisky"</span>),
                   <span class="kw">price</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">1.1</span>, <span class="fl">3.14</span>),
                   <span class="kw">note</span>  <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">NA</span>, <span class="fl">4.1</span>)
                   )</pre></body></html></div>
<p>This appears boring here but you will never use it. Your <code>data_raw</code> will likely be generated using Momit, and your <code>data_cov</code> will be a <code>read*</code> to bring your spreadheet into R.</p>
<p>Here are our tibbles:</p>
<div class="sourceCode" id="cb2"><html><body><pre class="r"><span class="no">data_raw</span>
<span class="co">#&gt; # A tibble: 2 x 2</span>
<span class="co">#&gt;   id                  coo                   </span>
<span class="co">#&gt;   &lt;chr&gt;               &lt;list&lt;coo_single[,2]&gt;&gt;</span>
<span class="co">#&gt; 1 chivas_75_mex_1984  &lt;tibble [0 × 2]&gt;      </span>
<span class="co">#&gt; 2 guiness_50_irl_1988 &lt;tibble [0 × 2]&gt;</span>
<span class="no">data_cov</span>
<span class="co">#&gt; # A tibble: 2 x 4</span>
<span class="co">#&gt;   id                  type   price  note</span>
<span class="co">#&gt;   &lt;chr&gt;               &lt;chr&gt;  &lt;dbl&gt; &lt;dbl&gt;</span>
<span class="co">#&gt; 1 guiness_50_irl_1988 beer    1.1   NA  </span>
<span class="co">#&gt; 2 chivas_75_mex_1984  whisky  3.14   4.1</span></pre></body></html></div>
<p>Let’s join them now with <code><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html">dplyr::left_join</a></code>.</p>
<div class="sourceCode" id="cb3"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">dplyr</span>)
<span class="no">df</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html">left_join</a></span>(<span class="no">data_raw</span>, <span class="no">data_cov</span>, <span class="kw">by</span><span class="kw">=</span><span class="st">"id"</span>)</pre></body></html></div>
<p>Turning such tibble into a <code>&lt;mom&gt;</code> can be achieved in a reasonable time by a <a href="https://en.wikipedia.org/wiki/Infinite_monkey_theorem">typing monkey</a> and you can now enter MomX pipeline:</p>
<div class="sourceCode" id="cb4"><html><body><pre class="r"><span class="no">df</span> <span class="kw">%&gt;%</span> <span class="fu"><a href="https://rdrr.io/pkg/Momocs2/man/mom_tbl.html">mom</a></span>()
<span class="co">#&gt; # A tibble: 2 x 5</span>
<span class="co">#&gt;   id                  coo                    type   price  note</span>
<span class="co">#&gt;   &lt;chr&gt;               &lt;list&lt;coo_single[,2]&gt;&gt; &lt;chr&gt;  &lt;dbl&gt; &lt;dbl&gt;</span>
<span class="co">#&gt; 1 chivas_75_mex_1984  &lt;tibble [0 × 2]&gt;       whisky  3.14   4.1</span>
<span class="co">#&gt; 2 guiness_50_irl_1988 &lt;tibble [0 × 2]&gt;       beer    1.1   NA  </span>
<span class="co">#&gt; ❯mom_tbl</span></pre></body></html></div>
<p>Your id should be minimal: it will save time when naming cannot be automated, it will save typos, and we do not need more anyway. But where to</p>
<p>Yes, that’s <code>iris</code>:</p>
<div class="sourceCode" id="cb5"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span>(<span class="no">iris</span>)
<span class="co">#&gt;   Sepal.Length Sepal.Width Petal.Length Petal.Width Species</span>
<span class="co">#&gt; 1          5.1         3.5          1.4         0.2  setosa</span>
<span class="co">#&gt; 2          4.9         3.0          1.4         0.2  setosa</span>
<span class="co">#&gt; 3          4.7         3.2          1.3         0.2  setosa</span>
<span class="co">#&gt; 4          4.6         3.1          1.5         0.2  setosa</span>
<span class="co">#&gt; 5          5.0         3.6          1.4         0.2  setosa</span>
<span class="co">#&gt; 6          5.4         3.9          1.7         0.4  setosa</span></pre></body></html></div>
<ol style="list-style-type: decimal">
<li>individual images will be named</li>
</ol>
<p>An id is an unique identifyers accross your database. Let’s take an example using the <code>iris</code> dataset:</p>
<div class="sourceCode" id="cb6"><html><body><pre class="r"><span class="no">iris</span>[<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">1</span>, <span class="fl">50</span>:<span class="fl">51</span>, <span class="fl">100</span>:<span class="fl">101</span>, <span class="fl">150</span>), ]
<span class="co">#&gt;     Sepal.Length Sepal.Width Petal.Length Petal.Width    Species</span>
<span class="co">#&gt; 1            5.1         3.5          1.4         0.2     setosa</span>
<span class="co">#&gt; 50           5.0         3.3          1.4         0.2     setosa</span>
<span class="co">#&gt; 51           7.0         3.2          4.7         1.4 versicolor</span>
<span class="co">#&gt; 100          5.7         2.8          4.1         1.3 versicolor</span>
<span class="co">#&gt; 101          6.3         3.3          6.0         2.5  virginica</span>
<span class="co">#&gt; 150          5.9         3.0          5.1         1.8  virginica</span></pre></body></html></div>
<p>So a good id could have been of the form: <code>species_individual</code>. For such trivial cases, building an id is straighforward:</p>
<div class="sourceCode" id="cb7"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">dplyr</span>)
<span class="no">iris</span> <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span>(<span class="no">Species</span>) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span>(<span class="kw">id</span><span class="kw">=</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span>(<span class="no">Species</span>, <span class="fl">1</span>:<span class="fu"><a href="https://dplyr.tidyverse.org/reference/context.html">n</a></span>(), <span class="kw">sep</span><span class="kw">=</span><span class="st">"_"</span>)) <span class="kw">%&gt;%</span>
  <span class="co"># only print the newly created column 'id', and the first 5 individuals</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/pull.html">pull</a></span>(<span class="no">id</span>) <span class="kw">%&gt;%</span> <span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span>(<span class="fl">5</span>)
<span class="co">#&gt; [1] "setosa_1" "setosa_2" "setosa_3" "setosa_4" "setosa_5"</span></pre></body></html></div>
</div>
</div>
<div id="good-practices-1" class="section level2">
<h2 class="hasAnchor">
<a href="#good-practices-1" class="anchor"></a>Good practices</h2>
<div id="raw-data-images-and-covariates-external-file" class="section level3">
<h3 class="hasAnchor">
<a href="#raw-data-images-and-covariates-external-file" class="anchor"></a>Raw data (images) and covariates (external file)</h3>
</div>
<div id="naming-images" class="section level3">
<h3 class="hasAnchor">
<a href="#naming-images" class="anchor"></a>Naming images</h3>
<ul>
<li>Names</li>
</ul>
<div class="sourceCode" id="cb8"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">Momit</span>)</pre></body></html></div>
<p>I begin with listing</p>
</div>
</div>
<div id="collecting-data" class="section level2">
<h2 class="hasAnchor">
<a href="#collecting-data" class="anchor"></a>Collecting data</h2>
<div id="individual-naming-scheme" class="section level3">
<h3 class="hasAnchor">
<a href="#individual-naming-scheme" class="anchor"></a>Individual naming scheme</h3>
<p>for file names : aims for the minimal scheme ie things that cannot be deduced by any other mean than by manual typing/picking</p>
<p>eg:</p>
<pre><code>Home_mons_vb_1
Home_mons_vb_2
Home_mons_vl_3</code></pre>
</div>
<div id="acquisition-template" class="section level3">
<h3 class="hasAnchor">
<a href="#acquisition-template" class="anchor"></a>Acquisition template</h3>
<pre><code>template_acq
    site        Home / Castle / Forest1 / Forest2    # pick one
    collector   c("sl", "vb")
    tree        001
    opening     1:5
    height      c(min=0, max=5, na="none")
    i           numeric
    comment     NA_character</code></pre>
<p>momacs propose template photo -&gt; name immediately when possible decharge -&gt; validate</p>
</div>
</div>
<div id="covariates" class="section level2">
<h2 class="hasAnchor">
<a href="#covariates" class="anchor"></a>Covariates</h2>
<p>Spreadsheet are very popular to store and organize data collection and associated covariates. Anything that can be read and contain an id for joining is fine.</p>
<p>Forget artistic touch on your .xlsx, .odt, .wtf files. No hierarchical header, no missing column name, no white lines here and there. Anything else than text to <em>encode</em> information like cell background color, bold, etc. are crazy ideas. Never do that. Use syntactic, meaningful and well thought colnames. Overall, keep things simple:</p>
<p>Lowercase are fine. Tend to only use lowercase now for code. Saving dozens of maj key press, and muting one fountain of typos are quite convincing experiments to try at home. It’s a matter of taste.</p>
</div>
<div id="joining" class="section level2">
<h2 class="hasAnchor">
<a href="#joining" class="anchor"></a>Joining</h2>
<p>dplyr::join</p>
</div>
<div id="validating-data" class="section level2">
<h2 class="hasAnchor">
<a href="#validating-data" class="anchor"></a>Validating data</h2>
<p>todo digest glimpse View</p>
</div>
<div id="backup-and-isolate-your-data" class="section level2">
<h2 class="hasAnchor">
<a href="#backup-and-isolate-your-data" class="anchor"></a>Backup and isolate your data</h2>
</div>
<div id="adding-new-data" class="section level2">
<h2 class="hasAnchor">
<a href="#adding-new-data" class="anchor"></a>Adding new data</h2>
<p>todo</p>
</div>
</div>
<div class="footnotes">
<hr>
<ol>
<li id="fn1"><p>Laurent Bouby, Allowen Evin, Sarah Ivorra<a href="#fnref1" class="footnote-back">↩︎</a></p></li>
<li id="fn2"><p> What I call <code>id</code> can also be called a <a href="https://en.wikipedia.org/wiki/Primary_key">primary key</a> but I like how compact <code>id</code> is (versus <code>key</code>) and still explicit (versus <code>i</code> for instance)<a href="#fnref2" class="footnote-back">↩︎</a></p></li>
<li id="fn3"><p>I love regular expressions, and even more when I do not need them<a href="#fnref3" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by <a href="http://www.vincentbonhomme.fr">Vincent Bonhomme</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.9000.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
