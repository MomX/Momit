<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Use Momit • Momit</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Use Momit">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">Momit</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/Use-Momit.html">Use Momit</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/MomX/Momit">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Use Momit</h1>
                        <h4 class="author">Vincent Bonhomme</h4>
            
            <h4 class="date">2018-07-06</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/MomX/Momit/blob/master/vignettes/Use-Momit.Rmd"><code>vignettes/Use-Momit.Rmd</code></a></small>
      <div class="hidden name"><code>Use-Momit.Rmd</code></div>

    </div>

    
    
<p>This vignette consists in two parts:</p>
<ol style="list-style-type: decimal">
<li>a word on the rationale, definition and case studies around the mimimalist <code>.mom</code> file format for morphometric data;</li>
<li>examples on using Momit, how it works and what it brings to the often boring and time-consuming task of importing such data into R or converting them to another format.</li>
</ol>
<p>Momit is still in active development, as part of <a href="http://momx.online">MomX</a>.</p>
<div id="mom-file-format-for-morphometrics" class="section level2">
<h2 class="hasAnchor">
<a href="#mom-file-format-for-morphometrics" class="anchor"></a><code>.mom</code> file format for morphometrics</h2>
<div id="rationale" class="section level4">
<h4 class="hasAnchor">
<a href="#rationale" class="anchor"></a>Rationale</h4>
<ul>
<li><p>Morphometrics data essentially consist of coordinates and, if any, associated covariates.</p></li>
<li><p>Existing morphometrics file format, eg <code>.tps</code>, <code>.nts</code>, <code>.xml</code>, etc. are not fully generic and/or explicitely defined/consistent, etc.</p></li>
<li><p>Here is proposed the <code>.mom</code> (short for <em>mo</em>dern <em>m</em>orphometrics and to echo <a href="https://github.com/MomX"><code>MomX</code></a>) file format along with R utilities to import, parse, manipulate, export them.</p></li>
<li><p><code>.mom</code> files are easy to read, for humans, and to parse, for computers.</p></li>
</ul>
</div>
<div id="definition" class="section level4">
<h4 class="hasAnchor">
<a href="#definition" class="anchor"></a>Definition</h4>
<p><code>.mom</code> files are plain text files whose single line syntax fall within one of the five following rules:</p>
<table class="table">
<thead><tr class="header">
<th>Rule</th>
<th>Pattern</th>
<th>What</th>
<th>Examples</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>space-separated numbers</td>
<td>coordinates in each dimension</td>
<td>
<code>-0.5 0.5</code>; <code>0 0 0</code>
</td>
</tr>
<tr class="even">
<td>2</td>
<td>word and word/number</td>
<td>covariate name and its value</td>
<td><code>scale 56</code></td>
</tr>
<tr class="odd">
<td>3</td>
<td>single word</td>
<td>partition of coordinates</td>
<td>
<code>LM</code> ; <code>out</code>
</td>
</tr>
<tr class="even">
<td>4</td>
<td>tilde and word</td>
<td>shape name when collated</td>
<td>
<code>~iris150</code> ; <code>~H. sapiens</code>
</td>
</tr>
<tr class="odd">
<td>5</td>
<td>anything else</td>
<td>ignored</td>
<td><code>#a comment</code></td>
</tr>
</tbody>
</table>
<p>Handling of units and of missing data is planned.</p>
</div>
<div id="examples" class="section level4">
<h4 class="hasAnchor">
<a href="#examples" class="anchor"></a>Examples</h4>
<p>A single shape with one covariate:</p>
<pre><code>name brahma
type beer
37  561
40  540
40  529
[...]</code></pre>
<p>Two shapes with more covariates/cofactors:</p>
<pre><code>~0001-cAglan_O10VD
var Aglan
domes cult
view VD
ind O10
-0.5000 0.00000
-0.4967 0.01035
-0.4935 0.02414
[...]
~0001-cAglan_O10VL 
var Aglan
domes cult
view VL
ind O10
-0.5000 0.00000
-0.4995 0.01018
-0.4957 0.02022
[...]</code></pre>
<p>A single shape with landmarks and 2 partitions of semi-landmarks:</p>
<pre><code>id 571
taxa T. mono
ldk
697  977
766  991
704 1046
[...]
sl1
541 962
542 965
543 967
[...]
sl2
541 949
542 952
542 954
[...]</code></pre>
<p>A shape with nothing else but coordinates:</p>
<pre><code>200   91
187   95
173  105
[...]</code></pre>
<p>Examples adapted from <a href="https://github.com/vbonhomme/Momocs/">Momocs</a>: <code>bot[1]</code>, <code>olea[1]</code>, <code>charring[1]</code>, <code>shapes[1]</code>.</p>
</div>
</div>
<div id="use-momit" class="section level2">
<h2 class="hasAnchor">
<a href="#use-momit" class="anchor"></a>Use Momit</h2>
<div id="general-workflow" class="section level4">
<h4 class="hasAnchor">
<a href="#general-workflow" class="anchor"></a>General workflow</h4>
<p>If you’re here, you probably have morphometric data that you want to import into R and/or convert to another format. Momit aims at making this easy. Actually, most of the time, you will only need two (or even one) function to do this: 1. <code>from_*()</code>, that will find, read and parse them to a `<code>data_frame</code> 2. <code>to_*()</code> translate them and write to the format you want</p>
<p>The general workflow from (and possibly to) files on your machine and R’s memory follows:</p>
<pre><code>files  +--&gt; from_*() +--------&gt; to_*()  +----&gt;   files
            └─ list.files       └─ soon
            └─ readLines
            └─ some polish†
            └─ list of single ind.
                └─ more polish†
                └─ parse†
                └─ momify
            └─ bind mom_df
            
*: one of supported formats (eg. .mom, .tps, etc.)
†: depends on the format(ting) being treated</code></pre>
<p>Below <code>from</code>, I detailed the main steps that happen behind the curtain.</p>
<p>The only mandatory part below is <code>from_*</code>, in the case where you would only like to import <code>{.mom, .tps, .nts, etc.}</code> files into R (no convert, no export). See the first example below.</p>
</div>
<div id="case-studies-where-it-may-saves-time-and-enthusiasm" class="section level4">
<h4 class="hasAnchor">
<a href="#case-studies-where-it-may-saves-time-and-enthusiasm" class="anchor"></a>Case studies where it may saves time and enthusiasm</h4>
<ul>
<li>You have <code>.mom</code> files in the folder “data”, and want to import them into R:<br><code><a href="../reference/from.html">from_mom("data/")</a></code>
</li>
</ul>
<p>__ Below, not yet implemented __</p>
<ul>
<li><p>Same but wih <code>.tps</code>files and you want to collate them into a single <code>.mom</code> file:<br><code>from_tps() %&gt;% to_mom() %&gt;% write_single()</code></p></li>
<li><p>You have thousands of outlines of the same object, spread accross a messy (or neat) subfolders structures. Outlines coordinates represent two views (say lateral and dorsal), and saved as <code>.mom</code> files with the appropriate cofactor (say <code>view dorsal</code>) and you only want the dorsal outlines to be imported in Momocs:<br><code>from_mom() %&gt;% filter(view=="dorsal") %&gt;% to_Out()</code></p></li>
</ul>
<p>Talking about pipes, all <a href="https://github.com/MomX">MomX</a> packages use them intensively, so you may want to read <a href="https://cran.r-project.org/package=magrittr/vignettes/magrittr.html">magrittr’s vignette</a></p>
<!-- `from_tps` and `to_tps` -->
<!-- `from_nts` and `to_nps` -->
</div>
<div id="behind-the-curtain" class="section level4">
<h4 class="hasAnchor">
<a href="#behind-the-curtain" class="anchor"></a>Behind the curtain</h4>
<p>We will follow all the thing that happen along the path schematized above. You do not really need to understand (or even read) this section if you just want to convert your files. But in case you need to custom something, here is the long story.</p>
<p>Let’s create a <code>.mom</code> file from scratch. It contains four individuals with some coordinates (we don’t care whether they are outlines, curves, landmarks, etc. here they’re truncated anyway) and four covariates: <code>var</code>iety, <code>domes</code>tication status, <code>view</code>, <code>ind</code>ividual name and <code>size</code>.</p>
<p>We first load Momit (that re-exports magrittr’s pipe), and friends.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1"><span class="kw">library</span>(dplyr) <span class="co"># we will need it after</span></a>
<a class="sourceLine" id="cb6-2" data-line-number="2"><span class="kw">library</span>(Momit)</a>
<a class="sourceLine" id="cb6-3" data-line-number="3"><span class="kw">library</span>(Momocs) <span class="co"># same, and order matters since Momocs hacks some dplyr methods</span></a></code></pre></div>
<p>Then I have a file named <code>foo.mom</code> in a folder named <code>mom_files</code> that I (both) created using:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1"><span class="kw">dir.create</span>(<span class="st">"mom_files"</span>)</a>
<a class="sourceLine" id="cb7-2" data-line-number="2"><span class="st">"~0001-cPastor_O10VD</span></a>
<a class="sourceLine" id="cb7-3" data-line-number="3"><span class="st">var Pastor</span></a>
<a class="sourceLine" id="cb7-4" data-line-number="4"><span class="st">domes cult</span></a>
<a class="sourceLine" id="cb7-5" data-line-number="5"><span class="st">view VD</span></a>
<a class="sourceLine" id="cb7-6" data-line-number="6"><span class="st">ind O10</span></a>
<a class="sourceLine" id="cb7-7" data-line-number="7"><span class="st">size 2.23</span></a>
<a class="sourceLine" id="cb7-8" data-line-number="8"><span class="st">-0.5000 0.00000</span></a>
<a class="sourceLine" id="cb7-9" data-line-number="9"><span class="st">-0.4967 0.01035</span></a>
<a class="sourceLine" id="cb7-10" data-line-number="10"><span class="st">-0.4935 0.02414</span></a>
<a class="sourceLine" id="cb7-11" data-line-number="11"><span class="st">~0001-cPastor_O10VL </span></a>
<a class="sourceLine" id="cb7-12" data-line-number="12"><span class="st">var Pastor</span></a>
<a class="sourceLine" id="cb7-13" data-line-number="13"><span class="st">domes cult</span></a>
<a class="sourceLine" id="cb7-14" data-line-number="14"><span class="st">view VL</span></a>
<a class="sourceLine" id="cb7-15" data-line-number="15"><span class="st">ind O10</span></a>
<a class="sourceLine" id="cb7-16" data-line-number="16"><span class="st">size 2.43</span></a>
<a class="sourceLine" id="cb7-17" data-line-number="17"><span class="st">-0.5000 0.00000</span></a>
<a class="sourceLine" id="cb7-18" data-line-number="18"><span class="st">-0.4995 0.01018</span></a>
<a class="sourceLine" id="cb7-19" data-line-number="19"><span class="st">-0.4957 0.02022</span></a>
<a class="sourceLine" id="cb7-20" data-line-number="20"><span class="st">~0001-cIvorra_O11VL </span></a>
<a class="sourceLine" id="cb7-21" data-line-number="21"><span class="st">var Ivorra</span></a>
<a class="sourceLine" id="cb7-22" data-line-number="22"><span class="st">domes wild</span></a>
<a class="sourceLine" id="cb7-23" data-line-number="23"><span class="st">view VL</span></a>
<a class="sourceLine" id="cb7-24" data-line-number="24"><span class="st">ind O11</span></a>
<a class="sourceLine" id="cb7-25" data-line-number="25"><span class="st">size 2.56</span></a>
<a class="sourceLine" id="cb7-26" data-line-number="26"><span class="st">-0.5000 0.00000</span></a>
<a class="sourceLine" id="cb7-27" data-line-number="27"><span class="st">-0.4985 0.0112</span></a>
<a class="sourceLine" id="cb7-28" data-line-number="28"><span class="st">-0.4845 0.021</span></a>
<a class="sourceLine" id="cb7-29" data-line-number="29"><span class="st">~0001-cIvorra_O11VD </span></a>
<a class="sourceLine" id="cb7-30" data-line-number="30"><span class="st">var Ivorra</span></a>
<a class="sourceLine" id="cb7-31" data-line-number="31"><span class="st">domes wild</span></a>
<a class="sourceLine" id="cb7-32" data-line-number="32"><span class="st">view VD</span></a>
<a class="sourceLine" id="cb7-33" data-line-number="33"><span class="st">ind O11</span></a>
<a class="sourceLine" id="cb7-34" data-line-number="34"><span class="st">size 2.74</span></a>
<a class="sourceLine" id="cb7-35" data-line-number="35"><span class="st">-0.5000 0.00000</span></a>
<a class="sourceLine" id="cb7-36" data-line-number="36"><span class="st">-0.4995 0.011</span></a>
<a class="sourceLine" id="cb7-37" data-line-number="37"><span class="st">-0.49 0.0198</span></a>
<a class="sourceLine" id="cb7-38" data-line-number="38"><span class="st">~0005-cBonhomme_O11VD </span></a>
<a class="sourceLine" id="cb7-39" data-line-number="39"><span class="st">var Bonhomme</span></a>
<a class="sourceLine" id="cb7-40" data-line-number="40"><span class="st">domes wild</span></a>
<a class="sourceLine" id="cb7-41" data-line-number="41"><span class="st">view VD</span></a>
<a class="sourceLine" id="cb7-42" data-line-number="42"><span class="st">ind O11</span></a>
<a class="sourceLine" id="cb7-43" data-line-number="43"><span class="st">size 2.55</span></a>
<a class="sourceLine" id="cb7-44" data-line-number="44"><span class="st">-0.5000 0.00000</span></a>
<a class="sourceLine" id="cb7-45" data-line-number="45"><span class="st">-0.499 0.012</span></a>
<a class="sourceLine" id="cb7-46" data-line-number="46"><span class="st">-0.49 0.0186"</span> <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb7-47" data-line-number="47"><span class="st">  </span><span class="kw">writeLines</span>(<span class="st">"mom_files/foo.mom"</span>)</a></code></pre></div>
<p>We can now read this file:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" data-line-number="1"><span class="kw">readLines</span>(<span class="st">"mom_files/foo.mom"</span>)</a></code></pre></div>
<p><code><a href="../reference/harvest.html">harvest()</a></code> function will find all the files, when provided containing folder(s) or, better, a pattern which is a regular expression. If you are not yet familiar with regular expression, go learn them, they are among the most profitable investment you can make when talking to a computer.</p>
<p>A list of files, read as lines, is returned. In most cases, <code>from_*</code> functions will harvest files for you, and a list of folders/files can also be passed directly to <code>from_*</code> functions. See those examples.</p>
<p>If you actually created the file and folder this should work now:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" data-line-number="1">x &lt;-<span class="st"> </span><span class="kw"><a href="../reference/from.html">from_mom</a></span>(<span class="st">"mom_files/foo.mom"</span>)</a></code></pre></div>
<p>Otherwise just use <code>example_data</code> (see <code>?example_data</code>):</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" data-line-number="1">x &lt;-<span class="st"> </span><span class="kw"><a href="../reference/from.html">from_mom</a></span>(<span class="st">"mom_files/foo.mom"</span>, <span class="dt">where=</span><span class="kw"><a href="../reference/example_data.html">example_dir</a></span>())</a>
<a class="sourceLine" id="cb10-2" data-line-number="2">x</a></code></pre></div>
<pre><code>## # A tibble: 5 x 7
##   name                 var      domes view  ind   size  coo      
##   &lt;chr&gt;                &lt;chr&gt;    &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;list&gt;   
## 1 0001-cPastor_O10VD   Pastor   cult  VD    O10   2.23  &lt;S3: coo&gt;
## 2 0001-cPastor_O10VL   Pastor   cult  VL    O10   2.43  &lt;S3: coo&gt;
## 3 0001-cIvorra_O11VL   Ivorra   wild  VL    O11   2.56  &lt;S3: coo&gt;
## 4 0001-cIvorra_O11VD   Ivorra   wild  VD    O11   2.74  &lt;S3: coo&gt;
## 5 0005-cBonhomme_O11VD Bonhomme wild  VD    O11   2.55  &lt;S3: coo&gt;</code></pre>
<p>We now have a <code>mom_df</code>: a <code>data.frame</code> containing: * several individuals * each with names, covariates and coordinates</p>
<p>Some equivalent of this importing step follows. They may be useful to understand should you want to write your own importers. As long as your format is used by others, I will be happy to write it myself and include it in Momocs. Just drop me a line.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" data-line-number="1"><span class="co"># from_mom("mom_files") # will find all .mom files in "mom_files/"</span></a>
<a class="sourceLine" id="cb12-2" data-line-number="2"><span class="co"># from_mom()            # will find all .mom files in the working </span></a>
<a class="sourceLine" id="cb12-3" data-line-number="3">                        <span class="co"># directory (I can't myself because I have </span></a>
<a class="sourceLine" id="cb12-4" data-line-number="4">                        <span class="co"># more than one in my Momit folder)</span></a>
<a class="sourceLine" id="cb12-5" data-line-number="5"></a>
<a class="sourceLine" id="cb12-6" data-line-number="6"><span class="co"># Below, what's done by from_mom()</span></a>
<a class="sourceLine" id="cb12-7" data-line-number="7"><span class="co"># list.files("mom_files/", full.names=TRUE) %&gt;% </span></a>
<a class="sourceLine" id="cb12-8" data-line-number="8"><span class="co">#  lapply(readLines) %&gt;% </span></a>
<a class="sourceLine" id="cb12-9" data-line-number="9"><span class="co">#  parse_mom()</span></a></code></pre></div>
<p>The last lines reproduce what is internally done by <code>from_mom</code>. Let’s see what it contains. Note the absence of parentheses, that prints the definition of the function.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" data-line-number="1">from_mom</a></code></pre></div>
<pre><code>## function(pattern="mom$", where=getwd(), encoding="unknown", ...){
##   if (!is.list(where))
##     x &lt;- harvest(pattern=pattern, where=where, encoding=encoding, ...)
##   else
##     x &lt;- where
##   x %&gt;% parse_mom()
## }
## &lt;bytecode: 0x7f8bba2da8f8&gt;
## &lt;environment: namespace:Momit&gt;</code></pre>
<p><code>harvest</code> itself eases the passing of selected files. All <code>from_*</code> functions have the same skeleton. You can dissecate it with <code>harvest</code> (again, no quotes). Note that this is not peculiar to Momit, it would work with all R functions. For methods, you will need to add the concerned class (eg <code>print.data.frame</code>).</p>
</div>
<div id="handling-imported-data-data-frame-is-life-data-frame-is-love" class="section level4">
<h4 class="hasAnchor">
<a href="#handling-imported-data-data-frame-is-life-data-frame-is-love" class="anchor"></a>Handling imported data: data.frame is life, data.frame is love</h4>
<p>Because once you started to like, you will love it. Particularly if you do some “modern R”. If you never heard of it or if you do not think it’s worth the pain, let me disagree with you and please read the <a href="https://cran.r-project.org/package=dplyr/vignettes/dplyr.html">dplyr’s introduction</a> (5 min), and <a href="http://r4ds.had.co.nz/"><em>R for data science</em></a> (from 2 days to 2 years).</p>
<p>Alternatively, just keep reading this vignette.</p>
<p>Did you ever need to filter some data to retain only some, say species; or to transforms some variables? Of course you did. With <code>dplyr</code> handling data becomes easy. All operations that follow depends on <code>dplyr</code>’s verbs that work just like exemplified in the vignette mentionned above since <code>mom_df</code> (what is returned by the <code>from_</code> importers is <em>also</em> a <code>data.frame</code>).</p>
<div id="selecting-columns" class="section level5">
<h5 class="hasAnchor">
<a href="#selecting-columns" class="anchor"></a>Selecting columns</h5>
<p>You can use <code>select</code> to select, reorder, rename some columns:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb15-1" data-line-number="1"><span class="kw"><a href="http://dplyr.tidyverse.org/reference/select.html">select</a></span>(x, name, coo, size)</a></code></pre></div>
<pre><code>## # A tibble: 5 x 3
##   name                 coo       size 
##   &lt;chr&gt;                &lt;list&gt;    &lt;chr&gt;
## 1 0001-cPastor_O10VD   &lt;S3: coo&gt; 2.23 
## 2 0001-cPastor_O10VL   &lt;S3: coo&gt; 2.43 
## 3 0001-cIvorra_O11VL   &lt;S3: coo&gt; 2.56 
## 4 0001-cIvorra_O11VD   &lt;S3: coo&gt; 2.74 
## 5 0005-cBonhomme_O11VD &lt;S3: coo&gt; 2.55</code></pre>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb17-1" data-line-number="1"><span class="kw"><a href="http://dplyr.tidyverse.org/reference/select.html">select</a></span>(x, <span class="op">-</span>view, <span class="dt">author=</span>var)</a></code></pre></div>
<pre><code>## # A tibble: 5 x 6
##   name                 author   domes ind   size  coo      
##   &lt;chr&gt;                &lt;chr&gt;    &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;list&gt;   
## 1 0001-cPastor_O10VD   Pastor   cult  O10   2.23  &lt;S3: coo&gt;
## 2 0001-cPastor_O10VL   Pastor   cult  O10   2.43  &lt;S3: coo&gt;
## 3 0001-cIvorra_O11VL   Ivorra   wild  O11   2.56  &lt;S3: coo&gt;
## 4 0001-cIvorra_O11VD   Ivorra   wild  O11   2.74  &lt;S3: coo&gt;
## 5 0005-cBonhomme_O11VD Bonhomme wild  O11   2.55  &lt;S3: coo&gt;</code></pre>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb19-1" data-line-number="1"><span class="kw"><a href="http://dplyr.tidyverse.org/reference/select.html">select</a></span>(x, <span class="dv">1</span><span class="op">:</span><span class="dv">2</span>, coo)</a></code></pre></div>
<pre><code>## # A tibble: 5 x 3
##   name                 var      coo      
##   &lt;chr&gt;                &lt;chr&gt;    &lt;list&gt;   
## 1 0001-cPastor_O10VD   Pastor   &lt;S3: coo&gt;
## 2 0001-cPastor_O10VL   Pastor   &lt;S3: coo&gt;
## 3 0001-cIvorra_O11VL   Ivorra   &lt;S3: coo&gt;
## 4 0001-cIvorra_O11VD   Ivorra   &lt;S3: coo&gt;
## 5 0005-cBonhomme_O11VD Bonhomme &lt;S3: coo&gt;</code></pre>
</div>
<div id="creating-new-columns" class="section level5">
<h5 class="hasAnchor">
<a href="#creating-new-columns" class="anchor"></a>Creating new columns</h5>
<p><code>mutate</code> is your friend.</p>
<p>As you may have noticed, all columns but coordinates partitions are of class <code>character</code>. <strong>You should explicitely redeclare the class of each covariate columns</strong>. This seems boring at the first glance but I want you to a lot of time/enthusiasm in the end. The good news is that you can do it easily with <code>mutate</code>:</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb21-1" data-line-number="1"><span class="kw">sapply</span>(x, class)</a></code></pre></div>
<pre><code>##        name         var       domes        view         ind        size 
## "character" "character" "character" "character" "character" "character" 
##         coo 
##      "list"</code></pre>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb23-1" data-line-number="1">x &lt;-<span class="st"> </span><span class="kw"><a href="http://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span>(x,</a>
<a class="sourceLine" id="cb23-2" data-line-number="2">           <span class="dt">var=</span>   <span class="kw">as.factor</span>(var),</a>
<a class="sourceLine" id="cb23-3" data-line-number="3">           <span class="dt">domes=</span> <span class="kw">as.factor</span>(var),</a>
<a class="sourceLine" id="cb23-4" data-line-number="4">           <span class="dt">view=</span>  <span class="kw">as.factor</span>(view),</a>
<a class="sourceLine" id="cb23-5" data-line-number="5">           <span class="dt">ind=</span>   <span class="kw">as.factor</span>(ind),</a>
<a class="sourceLine" id="cb23-6" data-line-number="6">           <span class="dt">size=</span>  <span class="kw">as.numeric</span>(size))</a>
<a class="sourceLine" id="cb23-7" data-line-number="7"><span class="co"># If you have many columns, you can try one of mutate variants.</span></a>
<a class="sourceLine" id="cb23-8" data-line-number="8"></a>
<a class="sourceLine" id="cb23-9" data-line-number="9"><span class="co"># see how the labels below column names have changed.</span></a>
<a class="sourceLine" id="cb23-10" data-line-number="10"><span class="co"># below is the x, you shoud use for further analyses (mostly if you stay in R)</span></a>
<a class="sourceLine" id="cb23-11" data-line-number="11">x </a></code></pre></div>
<pre><code>## # A tibble: 5 x 7
##   name                 var      domes    view  ind    size coo      
##   &lt;chr&gt;                &lt;fct&gt;    &lt;fct&gt;    &lt;fct&gt; &lt;fct&gt; &lt;dbl&gt; &lt;list&gt;   
## 1 0001-cPastor_O10VD   Pastor   Pastor   VD    O10    2.23 &lt;S3: coo&gt;
## 2 0001-cPastor_O10VL   Pastor   Pastor   VL    O10    2.43 &lt;S3: coo&gt;
## 3 0001-cIvorra_O11VL   Ivorra   Ivorra   VL    O11    2.56 &lt;S3: coo&gt;
## 4 0001-cIvorra_O11VD   Ivorra   Ivorra   VD    O11    2.74 &lt;S3: coo&gt;
## 5 0005-cBonhomme_O11VD Bonhomme Bonhomme VD    O11    2.55 &lt;S3: coo&gt;</code></pre>
<p><code>mutate</code> can also be used to create new columns on the fly:</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb25-1" data-line-number="1"><span class="kw"><a href="http://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span>(x,</a>
<a class="sourceLine" id="cb25-2" data-line-number="2">       <span class="dt">size_2=</span>size<span class="op">^</span><span class="dv">2</span>,</a>
<a class="sourceLine" id="cb25-3" data-line-number="3">       <span class="dt">size_sqrt=</span><span class="kw">sqrt</span>(size),</a>
<a class="sourceLine" id="cb25-4" data-line-number="4">       <span class="dt">view=</span><span class="kw">factor</span>(<span class="kw">substr</span>(view, <span class="dv">2</span>, <span class="dv">2</span>)))</a></code></pre></div>
<pre><code>## # A tibble: 5 x 9
##   name           var     domes  view  ind    size coo     size_2 size_sqrt
##   &lt;chr&gt;          &lt;fct&gt;   &lt;fct&gt;  &lt;fct&gt; &lt;fct&gt; &lt;dbl&gt; &lt;list&gt;   &lt;dbl&gt;     &lt;dbl&gt;
## 1 0001-cPastor_… Pastor  Pastor D     O10    2.23 &lt;S3: c…   4.97      1.49
## 2 0001-cPastor_… Pastor  Pastor L     O10    2.43 &lt;S3: c…   5.90      1.56
## 3 0001-cIvorra_… Ivorra  Ivorra L     O11    2.56 &lt;S3: c…   6.55      1.6 
## 4 0001-cIvorra_… Ivorra  Ivorra D     O11    2.74 &lt;S3: c…   7.51      1.66
## 5 0005-cBonhomm… Bonhom… Bonho… D     O11    2.55 &lt;S3: c…   6.50      1.60</code></pre>
</div>
<div id="filtering" class="section level5">
<h5 class="hasAnchor">
<a href="#filtering" class="anchor"></a>Filtering</h5>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb27-1" data-line-number="1"><span class="co"># only pictures by Ivorra</span></a>
<a class="sourceLine" id="cb27-2" data-line-number="2">x </a></code></pre></div>
<pre><code>## # A tibble: 5 x 7
##   name                 var      domes    view  ind    size coo      
##   &lt;chr&gt;                &lt;fct&gt;    &lt;fct&gt;    &lt;fct&gt; &lt;fct&gt; &lt;dbl&gt; &lt;list&gt;   
## 1 0001-cPastor_O10VD   Pastor   Pastor   VD    O10    2.23 &lt;S3: coo&gt;
## 2 0001-cPastor_O10VL   Pastor   Pastor   VL    O10    2.43 &lt;S3: coo&gt;
## 3 0001-cIvorra_O11VL   Ivorra   Ivorra   VL    O11    2.56 &lt;S3: coo&gt;
## 4 0001-cIvorra_O11VD   Ivorra   Ivorra   VD    O11    2.74 &lt;S3: coo&gt;
## 5 0005-cBonhomme_O11VD Bonhomme Bonhomme VD    O11    2.55 &lt;S3: coo&gt;</code></pre>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb29-1" data-line-number="1"><span class="kw"><a href="http://dplyr.tidyverse.org/reference/filter.html">filter</a></span>(x, var<span class="op">==</span><span class="st">"Ivorra"</span>)</a></code></pre></div>
<pre><code>## # A tibble: 2 x 7
##   name               var    domes  view  ind    size coo      
##   &lt;chr&gt;              &lt;fct&gt;  &lt;fct&gt;  &lt;fct&gt; &lt;fct&gt; &lt;dbl&gt; &lt;list&gt;   
## 1 0001-cIvorra_O11VL Ivorra Ivorra VL    O11    2.56 &lt;S3: coo&gt;
## 2 0001-cIvorra_O11VD Ivorra Ivorra VD    O11    2.74 &lt;S3: coo&gt;</code></pre>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb31-1" data-line-number="1"><span class="co"># remove those by Bonhomme</span></a>
<a class="sourceLine" id="cb31-2" data-line-number="2"><span class="kw"><a href="http://dplyr.tidyverse.org/reference/filter.html">filter</a></span>(x, var<span class="op">!=</span><span class="st">"Bonhomme"</span>)</a></code></pre></div>
<pre><code>## # A tibble: 4 x 7
##   name               var    domes  view  ind    size coo      
##   &lt;chr&gt;              &lt;fct&gt;  &lt;fct&gt;  &lt;fct&gt; &lt;fct&gt; &lt;dbl&gt; &lt;list&gt;   
## 1 0001-cPastor_O10VD Pastor Pastor VD    O10    2.23 &lt;S3: coo&gt;
## 2 0001-cPastor_O10VL Pastor Pastor VL    O10    2.43 &lt;S3: coo&gt;
## 3 0001-cIvorra_O11VL Ivorra Ivorra VL    O11    2.56 &lt;S3: coo&gt;
## 4 0001-cIvorra_O11VD Ivorra Ivorra VD    O11    2.74 &lt;S3: coo&gt;</code></pre>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb33-1" data-line-number="1"><span class="co"># alternatively</span></a>
<a class="sourceLine" id="cb33-2" data-line-number="2"><span class="kw"><a href="http://dplyr.tidyverse.org/reference/filter.html">filter</a></span>(x, var <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">"Ivorra"</span>, <span class="st">"Pastor"</span>))</a></code></pre></div>
<pre><code>## # A tibble: 4 x 7
##   name               var    domes  view  ind    size coo      
##   &lt;chr&gt;              &lt;fct&gt;  &lt;fct&gt;  &lt;fct&gt; &lt;fct&gt; &lt;dbl&gt; &lt;list&gt;   
## 1 0001-cPastor_O10VD Pastor Pastor VD    O10    2.23 &lt;S3: coo&gt;
## 2 0001-cPastor_O10VL Pastor Pastor VL    O10    2.43 &lt;S3: coo&gt;
## 3 0001-cIvorra_O11VL Ivorra Ivorra VL    O11    2.56 &lt;S3: coo&gt;
## 4 0001-cIvorra_O11VD Ivorra Ivorra VD    O11    2.74 &lt;S3: coo&gt;</code></pre>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb35-1" data-line-number="1"><span class="co"># more conditions</span></a>
<a class="sourceLine" id="cb35-2" data-line-number="2">x <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="http://dplyr.tidyverse.org/reference/filter.html">filter</a></span>(var<span class="op">==</span><span class="st">"Ivorra"</span>, view<span class="op">==</span><span class="st">"VL"</span>)</a></code></pre></div>
<pre><code>## # A tibble: 1 x 7
##   name               var    domes  view  ind    size coo      
##   &lt;chr&gt;              &lt;fct&gt;  &lt;fct&gt;  &lt;fct&gt; &lt;fct&gt; &lt;dbl&gt; &lt;list&gt;   
## 1 0001-cIvorra_O11VL Ivorra Ivorra VL    O11    2.56 &lt;S3: coo&gt;</code></pre>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb37-1" data-line-number="1"><span class="co"># or filtering on numeric values</span></a>
<a class="sourceLine" id="cb37-2" data-line-number="2">x <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="http://dplyr.tidyverse.org/reference/filter.html">filter</a></span>(size <span class="op">&lt;</span><span class="st"> </span><span class="fl">2.5</span>)</a></code></pre></div>
<pre><code>## # A tibble: 2 x 7
##   name               var    domes  view  ind    size coo      
##   &lt;chr&gt;              &lt;fct&gt;  &lt;fct&gt;  &lt;fct&gt; &lt;fct&gt; &lt;dbl&gt; &lt;list&gt;   
## 1 0001-cPastor_O10VD Pastor Pastor VD    O10    2.23 &lt;S3: coo&gt;
## 2 0001-cPastor_O10VL Pastor Pastor VL    O10    2.43 &lt;S3: coo&gt;</code></pre>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb39-1" data-line-number="1">x <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="http://dplyr.tidyverse.org/reference/filter.html">filter</a></span>(size <span class="op">&gt;=</span><span class="st"> </span><span class="kw">median</span>(size))</a></code></pre></div>
<pre><code>## # A tibble: 3 x 7
##   name                 var      domes    view  ind    size coo      
##   &lt;chr&gt;                &lt;fct&gt;    &lt;fct&gt;    &lt;fct&gt; &lt;fct&gt; &lt;dbl&gt; &lt;list&gt;   
## 1 0001-cIvorra_O11VL   Ivorra   Ivorra   VL    O11    2.56 &lt;S3: coo&gt;
## 2 0001-cIvorra_O11VD   Ivorra   Ivorra   VD    O11    2.74 &lt;S3: coo&gt;
## 3 0005-cBonhomme_O11VD Bonhomme Bonhomme VD    O11    2.55 &lt;S3: coo&gt;</code></pre>
</div>
<div id="selectiong-by-rows" class="section level5">
<h5 class="hasAnchor">
<a href="#selectiong-by-rows" class="anchor"></a>Selectiong by rows</h5>
<p>If you need to select individuals by their positions, yet usually that’s not a good idea, you can use <code>slice</code>:</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb41-1" data-line-number="1">x</a></code></pre></div>
<pre><code>## # A tibble: 5 x 7
##   name                 var      domes    view  ind    size coo      
##   &lt;chr&gt;                &lt;fct&gt;    &lt;fct&gt;    &lt;fct&gt; &lt;fct&gt; &lt;dbl&gt; &lt;list&gt;   
## 1 0001-cPastor_O10VD   Pastor   Pastor   VD    O10    2.23 &lt;S3: coo&gt;
## 2 0001-cPastor_O10VL   Pastor   Pastor   VL    O10    2.43 &lt;S3: coo&gt;
## 3 0001-cIvorra_O11VL   Ivorra   Ivorra   VL    O11    2.56 &lt;S3: coo&gt;
## 4 0001-cIvorra_O11VD   Ivorra   Ivorra   VD    O11    2.74 &lt;S3: coo&gt;
## 5 0005-cBonhomme_O11VD Bonhomme Bonhomme VD    O11    2.55 &lt;S3: coo&gt;</code></pre>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb43-1" data-line-number="1"><span class="kw"><a href="http://dplyr.tidyverse.org/reference/slice.html">slice</a></span>(x, <span class="dv">1</span>)</a></code></pre></div>
<pre><code>## # A tibble: 1 x 7
##   name               var    domes  view  ind    size coo      
##   &lt;chr&gt;              &lt;fct&gt;  &lt;fct&gt;  &lt;fct&gt; &lt;fct&gt; &lt;dbl&gt; &lt;list&gt;   
## 1 0001-cPastor_O10VD Pastor Pastor VD    O10    2.23 &lt;S3: coo&gt;</code></pre>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb45-1" data-line-number="1"><span class="kw"><a href="http://dplyr.tidyverse.org/reference/slice.html">slice</a></span>(x, <span class="op">-</span>(<span class="dv">3</span><span class="op">:</span><span class="dv">5</span>))</a></code></pre></div>
<pre><code>## # A tibble: 2 x 7
##   name               var    domes  view  ind    size coo      
##   &lt;chr&gt;              &lt;fct&gt;  &lt;fct&gt;  &lt;fct&gt; &lt;fct&gt; &lt;dbl&gt; &lt;list&gt;   
## 1 0001-cPastor_O10VD Pastor Pastor VD    O10    2.23 &lt;S3: coo&gt;
## 2 0001-cPastor_O10VL Pastor Pastor VL    O10    2.43 &lt;S3: coo&gt;</code></pre>
</div>
</div>
</div>
<div id="continue-with-momocs" class="section level2">
<h2 class="hasAnchor">
<a href="#continue-with-momocs" class="anchor"></a>Continue with Momocs</h2>
<p>Whether you just want an overview of your data or do all the analyses with Momocs, going there from Momit is straightforward.</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb47-1" data-line-number="1"><span class="kw">library</span>(Momocs)</a>
<a class="sourceLine" id="cb47-2" data-line-number="2">x</a></code></pre></div>
<pre><code>## # A tibble: 5 x 7
##   name                 var      domes    view  ind    size coo      
##   &lt;chr&gt;                &lt;fct&gt;    &lt;fct&gt;    &lt;fct&gt; &lt;fct&gt; &lt;dbl&gt; &lt;list&gt;   
## 1 0001-cPastor_O10VD   Pastor   Pastor   VD    O10    2.23 &lt;S3: coo&gt;
## 2 0001-cPastor_O10VL   Pastor   Pastor   VL    O10    2.43 &lt;S3: coo&gt;
## 3 0001-cIvorra_O11VL   Ivorra   Ivorra   VL    O11    2.56 &lt;S3: coo&gt;
## 4 0001-cIvorra_O11VD   Ivorra   Ivorra   VD    O11    2.74 &lt;S3: coo&gt;
## 5 0005-cBonhomme_O11VD Bonhomme Bonhomme VD    O11    2.55 &lt;S3: coo&gt;</code></pre>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb49-1" data-line-number="1">x <span class="op">%$%</span><span class="st"> </span><span class="kw"><a href="http://www.rdocumentation.org/packages/Momocs/topics/Out">Out</a></span>(coo) <span class="op">%&gt;%</span><span class="st"> </span>panel <span class="co"># just a panel plot (ugly but data were dummy)</span></a></code></pre></div>
<p><img src="Use-Momit_files/figure-html/Momocs-1.png" width="700"></p>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb50-1" data-line-number="1"><span class="co"># equivalent to</span></a>
<a class="sourceLine" id="cb50-2" data-line-number="2"><span class="co"># Out(x$coo) %&gt;% panel</span></a>
<a class="sourceLine" id="cb50-3" data-line-number="3"></a>
<a class="sourceLine" id="cb50-4" data-line-number="4"><span class="kw"><a href="http://www.rdocumentation.org/packages/Momocs/topics/Out">Out</a></span>(x<span class="op">$</span>coo, <span class="dt">fac=</span><span class="kw"><a href="http://www.rdocumentation.org/packages/Momocs/topics/select">select</a></span>(x, <span class="op">-</span>coo))</a></code></pre></div>
<pre><code>## Out (outlines)
##   - 5 outlines, 3 +/- 0 coords (in $coo)
##   - 6 classifiers (in $fac): 
## # A tibble: 5 x 6
##   name                 var      domes    view  ind    size
##   &lt;chr&gt;                &lt;fct&gt;    &lt;fct&gt;    &lt;fct&gt; &lt;fct&gt; &lt;dbl&gt;
## 1 0001-cPastor_O10VD   Pastor   Pastor   VD    O10    2.23
## 2 0001-cPastor_O10VL   Pastor   Pastor   VL    O10    2.43
## 3 0001-cIvorra_O11VL   Ivorra   Ivorra   VL    O11    2.56
## 4 0001-cIvorra_O11VD   Ivorra   Ivorra   VD    O11    2.74
## 5 0005-cBonhomme_O11VD Bonhomme Bonhomme VD    O11    2.55
##   - also: $ldk</code></pre>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb52-1" data-line-number="1"><span class="co"># or if this is not outlines but landmarks:</span></a>
<a class="sourceLine" id="cb52-2" data-line-number="2"><span class="kw"><a href="http://www.rdocumentation.org/packages/Momocs/topics/Ldk">Ldk</a></span>(x<span class="op">$</span>coo, <span class="dt">fac=</span><span class="kw"><a href="http://www.rdocumentation.org/packages/Momocs/topics/select">select</a></span>(x, <span class="op">-</span>coo))</a></code></pre></div>
<pre><code>## Ldk (landmarks)
##   - 5 landmarks, 3 +/- 0 coords (in $coo)
##   - 6 classifiers (in $fac): 
## # A tibble: 5 x 6
##   name                 var      domes    view  ind    size
##   &lt;chr&gt;                &lt;fct&gt;    &lt;fct&gt;    &lt;fct&gt; &lt;fct&gt; &lt;dbl&gt;
## 1 0001-cPastor_O10VD   Pastor   Pastor   VD    O10    2.23
## 2 0001-cPastor_O10VL   Pastor   Pastor   VL    O10    2.43
## 3 0001-cIvorra_O11VL   Ivorra   Ivorra   VL    O11    2.56
## 4 0001-cIvorra_O11VD   Ivorra   Ivorra   VD    O11    2.74
## 5 0005-cBonhomme_O11VD Bonhomme Bonhomme VD    O11    2.55
##   - also: $links   - also: $slidings</code></pre>
<p>Once you have a <code>Coo</code> object, you enter the <code>Momocs</code> zone, eg:</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb54-1" data-line-number="1"><span class="kw"><a href="http://www.rdocumentation.org/packages/Momocs/topics/Ldk">Ldk</a></span>(x<span class="op">$</span>coo, <span class="dt">fac=</span><span class="kw"><a href="http://www.rdocumentation.org/packages/Momocs/topics/select">select</a></span>(x, <span class="op">-</span>coo)) <span class="op">%&gt;%</span><span class="st"> </span><span class="co"># build the Ldl</span></a>
<a class="sourceLine" id="cb54-2" data-line-number="2"><span class="st">  </span><span class="kw"><a href="http://www.rdocumentation.org/packages/Momocs/topics/fgProcrustes">fgProcrustes</a></span>(<span class="dt">tol=</span><span class="fl">0.1</span>) <span class="op">%T&gt;%</span><span class="st">        </span><span class="co"># high tol, save trees</span></a>
<a class="sourceLine" id="cb54-3" data-line-number="3"><span class="st">  </span><span class="kw"><a href="http://www.rdocumentation.org/packages/Momocs/topics/LDA">LDA</a></span>(<span class="op">~</span>domes) <span class="op">%&gt;%</span><span class="st">                   </span><span class="co"># discriminant analysis then continue to PCA</span></a>
<a class="sourceLine" id="cb54-4" data-line-number="4"><span class="st">  </span><span class="kw"><a href="http://www.rdocumentation.org/packages/Momocs/topics/PCA">PCA</a></span>() <span class="op">%T&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb54-5" data-line-number="5"><span class="st">  </span><span class="kw"><a href="http://www.rdocumentation.org/packages/Momocs/topics/plot_PCA">plot_PCA</a></span>(<span class="op">~</span>size) <span class="op">%&gt;%</span><span class="st">               </span><span class="co"># plotting vs a numeric</span></a>
<a class="sourceLine" id="cb54-6" data-line-number="6"><span class="st">  </span><span class="kw"><a href="http://www.rdocumentation.org/packages/Momocs/topics/plot_PCA">plot_PCA</a></span>(<span class="op">~</span>var)                    <span class="co"># and versus a factor</span></a></code></pre></div>
</div>
<div id="convert-and-write-files" class="section level2">
<h2 class="hasAnchor">
<a href="#convert-and-write-files" class="anchor"></a>Convert and write files</h2>
<p>TODO</p>
<table style="width:8%;" class="table">
<colgroup><col width="8%"></colgroup>
<tbody>
<tr class="odd">
<td>If you created the files, don’t forget to remove them!</td>
</tr>
<tr class="even">
<td><code>r file.remove("mom_files/foo.mom")</code></td>
</tr>
<tr class="odd">
<td><code>## Warning in file.remove("mom_files/foo.mom"): impossible d'effacer le ## fichier 'mom_files/foo.mom', à cause de 'No such file or directory'</code></td>
</tr>
<tr class="even">
<td><code>## [1] FALSE</code></td>
</tr>
<tr class="odd">
<td><code>r unlink("mom_files", recursive=TRUE, force=TRUE)</code></td>
</tr>
<tr class="even">
<td>## Final word * I will add more <code>from_*</code> and <code>to_*</code> functions asap * I also still need to implement missing values handling and units. * All of this is pretty experimental so all comments are welcome. * Please use GitHub issues for bugs/ideas. If you’d like to get in touch privately or send me some exotic data to be included in Momit, you can email me at: <code>bonhomme.vincent@gmail.com</code>. * More to come.</td>
</tr>
</tbody>
</table>
<p>With these following packages/versions, this vignette compiles properly:</p>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb55-1" data-line-number="1"><span class="kw">sessionInfo</span>()</a></code></pre></div>
<pre><code>## R version 3.5.0 (2018-04-23)
## Platform: x86_64-apple-darwin15.6.0 (64-bit)
## Running under: macOS High Sierra 10.13.4
## 
## Matrix products: default
## BLAS: /Library/Frameworks/R.framework/Versions/3.5/Resources/lib/libRblas.0.dylib
## LAPACK: /Library/Frameworks/R.framework/Versions/3.5/Resources/lib/libRlapack.dylib
## 
## locale:
## [1] fr_FR.UTF-8/fr_FR.UTF-8/fr_FR.UTF-8/C/fr_FR.UTF-8/fr_FR.UTF-8
## 
## attached base packages:
## [1] stats     graphics  grDevices utils     datasets  methods   base     
## 
## other attached packages:
## [1] bindrcpp_0.2.2 Momocs_1.2.9.3 Momit_0.1.0    dplyr_0.7.5   
## 
## loaded via a namespace (and not attached):
##  [1] Rcpp_0.12.17     plyr_1.8.4       compiler_3.5.0   pillar_1.2.3    
##  [5] bindr_0.1.1      tools_3.5.0      digest_0.6.15    evaluate_0.10.1 
##  [9] memoise_1.1.0    tibble_1.4.2     gtable_0.2.0     pkgconfig_2.0.1 
## [13] rlang_0.2.1      cli_1.0.0        rstudioapi_0.7   commonmark_1.5  
## [17] yaml_2.1.19      pkgdown_1.1.0    stringr_1.3.1    roxygen2_6.0.1  
## [21] xml2_1.2.0       knitr_1.20       desc_1.2.0       fs_1.2.3        
## [25] rprojroot_1.3-2  grid_3.5.0       tidyselect_0.2.4 glue_1.2.0      
## [29] R6_2.2.2         rmarkdown_1.9    purrr_0.2.4      ggplot2_2.2.1   
## [33] magrittr_1.5     backports_1.1.2  scales_0.5.0     htmltools_0.3.6 
## [37] MASS_7.3-49      assertthat_0.2.0 colorspace_1.3-2 utf8_1.1.4      
## [41] stringi_1.2.2    lazyeval_0.2.1   munsell_0.4.3    crayon_1.3.4</code></pre>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#mom-file-format-for-morphometrics"><code>.mom</code> file format for morphometrics</a></li>
      <li><a href="#use-momit">Use Momit</a></li>
      <li><a href="#continue-with-momocs">Continue with Momocs</a></li>
      <li><a href="#convert-and-write-files">Convert and write files</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by <a href="http://www.vincentbonhomme.fr">Vincent Bonhomme</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  

  </body>
</html>
